function cov_2mdwrvua07(){var path="C:\\Users\\Rokon\\source\\repos\\SWENG894-Capstone-Project\\index.js";var hash="6a702dddaba52511963ea1f79f375942b3570111";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Rokon\\source\\repos\\SWENG894-Capstone-Project\\index.js",statementMap:{"0":{start:{line:1,column:16},end:{line:1,column:34}},"1":{start:{line:2,column:12},end:{line:2,column:21}},"2":{start:{line:3,column:11},end:{line:3,column:40}},"3":{start:{line:4,column:21},end:{line:4,column:45}},"4":{start:{line:5,column:12},end:{line:5,column:35}},"5":{start:{line:7,column:0},end:{line:7,column:30}},"6":{start:{line:8,column:0},end:{line:8,column:24}},"7":{start:{line:9,column:0},end:{line:9,column:48}},"8":{start:{line:10,column:0},end:{line:10,column:24}},"9":{start:{line:12,column:0},end:{line:30,column:3}},"10":{start:{line:13,column:17},end:{line:13,column:28}},"11":{start:{line:14,column:15},end:{line:14,column:19}},"12":{start:{line:16,column:18},end:{line:16,column:44}},"13":{start:{line:17,column:4},end:{line:24,column:5}},"14":{start:{line:18,column:8},end:{line:23,column:11}},"15":{start:{line:19,column:12},end:{line:22,column:13}},"16":{start:{line:20,column:16},end:{line:20,column:36}},"17":{start:{line:21,column:16},end:{line:21,column:31}},"18":{start:{line:26,column:4},end:{line:29,column:7}},"19":{start:{line:27,column:8},end:{line:27,column:27}},"20":{start:{line:27,column:17},end:{line:27,column:27}},"21":{start:{line:28,column:8},end:{line:28,column:53}},"22":{start:{line:32,column:0},end:{line:32,column:34}},"23":{start:{line:34,column:0},end:{line:34,column:59}},"24":{start:{line:34,column:35},end:{line:34,column:57}},"25":{start:{line:35,column:0},end:{line:35,column:53}},"26":{start:{line:35,column:32},end:{line:35,column:51}},"27":{start:{line:37,column:0},end:{line:37,column:21}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:12,column:13},end:{line:12,column:14}},loc:{start:{line:12,column:27},end:{line:30,column:1}},line:12},"1":{name:"(anonymous_1)",decl:{start:{line:18,column:50},end:{line:18,column:51}},loc:{start:{line:18,column:68},end:{line:23,column:9}},line:18},"2":{name:"(anonymous_2)",decl:{start:{line:26,column:36},end:{line:26,column:37}},loc:{start:{line:26,column:52},end:{line:29,column:5}},line:26},"3":{name:"(anonymous_3)",decl:{start:{line:34,column:21},end:{line:34,column:22}},loc:{start:{line:34,column:35},end:{line:34,column:57}},line:34},"4":{name:"(anonymous_4)",decl:{start:{line:35,column:18},end:{line:35,column:19}},loc:{start:{line:35,column:32},end:{line:35,column:51}},line:35}},branchMap:{"0":{loc:{start:{line:17,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:17,column:4},end:{line:24,column:5}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:17},"1":{loc:{start:{line:19,column:12},end:{line:22,column:13}},type:"if",locations:[{start:{line:19,column:12},end:{line:22,column:13}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:19},"2":{loc:{start:{line:27,column:8},end:{line:27,column:27}},type:"if",locations:[{start:{line:27,column:8},end:{line:27,column:27}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:27}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6a702dddaba52511963ea1f79f375942b3570111"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2mdwrvua07=function(){return actualCoverage;};}return actualCoverage;}cov_2mdwrvua07();const express=(cov_2mdwrvua07().s[0]++,require('express'));const app=(cov_2mdwrvua07().s[1]++,express());const db=(cov_2mdwrvua07().s[2]++,require("./routes/db-config"));const cookieParser=(cov_2mdwrvua07().s[3]++,require('cookie-parser'));const jwt=(cov_2mdwrvua07().s[4]++,require('jsonwebtoken'));cov_2mdwrvua07().s[5]++;app.set('view engine','ejs');cov_2mdwrvua07().s[6]++;app.use(express.json());cov_2mdwrvua07().s[7]++;app.use(express.urlencoded({extended:true}));cov_2mdwrvua07().s[8]++;app.use(cookieParser());cov_2mdwrvua07().s[9]++;app.get('/',(req,res)=>{cov_2mdwrvua07().f[0]++;let status=(cov_2mdwrvua07().s[10]++,"loggedOut");let user=(cov_2mdwrvua07().s[11]++,null);const token=(cov_2mdwrvua07().s[12]++,req.cookies.userRegistered);cov_2mdwrvua07().s[13]++;if(token){cov_2mdwrvua07().b[0][0]++;cov_2mdwrvua07().s[14]++;jwt.verify(token,process.env.JWT_SECRET,(err,decoded)=>{cov_2mdwrvua07().f[1]++;cov_2mdwrvua07().s[15]++;if(!err){cov_2mdwrvua07().b[1][0]++;cov_2mdwrvua07().s[16]++;status="loggedIn";cov_2mdwrvua07().s[17]++;user=decoded;}else{cov_2mdwrvua07().b[1][1]++;}});}else{cov_2mdwrvua07().b[0][1]++;}cov_2mdwrvua07().s[18]++;db.query('SELECT * FROM polls',(err,polls)=>{cov_2mdwrvua07().f[2]++;cov_2mdwrvua07().s[19]++;if(err){cov_2mdwrvua07().b[2][0]++;cov_2mdwrvua07().s[20]++;throw err;}else{cov_2mdwrvua07().b[2][1]++;}cov_2mdwrvua07().s[21]++;res.render('index',{status,user,polls});});});cov_2mdwrvua07().s[22]++;app.use(express.static('public'));cov_2mdwrvua07().s[23]++;app.get('/register',(req,res)=>{cov_2mdwrvua07().f[3]++;cov_2mdwrvua07().s[24]++;return res.render('register');});cov_2mdwrvua07().s[25]++;app.get('/login',(req,res)=>{cov_2mdwrvua07().f[4]++;cov_2mdwrvua07().s[26]++;return res.render('login');});cov_2mdwrvua07().s[27]++;module.exports=app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMm1kd3J2dWEwNyIsImFjdHVhbENvdmVyYWdlIiwiZXhwcmVzcyIsInMiLCJyZXF1aXJlIiwiYXBwIiwiZGIiLCJjb29raWVQYXJzZXIiLCJqd3QiLCJzZXQiLCJ1c2UiLCJqc29uIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwiZ2V0IiwicmVxIiwicmVzIiwiZiIsInN0YXR1cyIsInVzZXIiLCJ0b2tlbiIsImNvb2tpZXMiLCJ1c2VyUmVnaXN0ZXJlZCIsImIiLCJ2ZXJpZnkiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImVyciIsImRlY29kZWQiLCJxdWVyeSIsInBvbGxzIiwicmVuZGVyIiwic3RhdGljIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuY29uc3QgZGIgPSByZXF1aXJlKFwiLi9yb3V0ZXMvZGItY29uZmlnXCIpO1xyXG5jb25zdCBjb29raWVQYXJzZXIgPSByZXF1aXJlKCdjb29raWUtcGFyc2VyJyk7XHJcbmNvbnN0IGp3dCA9IHJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpO1xyXG5cclxuYXBwLnNldCgndmlldyBlbmdpbmUnLCAnZWpzJyk7XHJcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xyXG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcclxuYXBwLnVzZShjb29raWVQYXJzZXIoKSk7XHJcblxyXG5hcHAuZ2V0KCcvJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgc3RhdHVzID0gXCJsb2dnZWRPdXRcIjtcclxuICAgIGxldCB1c2VyID0gbnVsbDtcclxuXHJcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLnVzZXJSZWdpc3RlcmVkO1xyXG4gICAgaWYgKHRva2VuKSB7XHJcbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCwgKGVyciwgZGVjb2RlZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWVycikge1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzID0gXCJsb2dnZWRJblwiO1xyXG4gICAgICAgICAgICAgICAgdXNlciA9IGRlY29kZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkYi5xdWVyeSgnU0VMRUNUICogRlJPTSBwb2xscycsIChlcnIsIHBvbGxzKSA9PiB7XHJcbiAgICAgICAgaWYgKGVycikgdGhyb3cgZXJyO1xyXG4gICAgICAgIHJlcy5yZW5kZXIoJ2luZGV4JywgeyBzdGF0dXMsIHVzZXIsIHBvbGxzIH0pO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuYXBwLnVzZShleHByZXNzLnN0YXRpYygncHVibGljJykpO1xyXG5cclxuYXBwLmdldCgnL3JlZ2lzdGVyJywgKHJlcSwgcmVzKSA9PiByZXMucmVuZGVyKCdyZWdpc3RlcicpKTtcclxuYXBwLmdldCgnL2xvZ2luJywgKHJlcSwgcmVzKSA9PiByZXMucmVuZGVyKCdsb2dpbicpKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gYXBwO1xyXG4iXSwibWFwcGluZ3MiOiJvdkhBZVk7QUFBQUEsY0FBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxjQUFBLEdBZlosS0FBTSxDQUFBRSxPQUFPLEVBQUFGLGNBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDLEVBQ2xDLEtBQU0sQ0FBQUMsR0FBRyxFQUFBTCxjQUFBLEdBQUFHLENBQUEsTUFBR0QsT0FBTyxDQUFDLENBQUMsRUFDckIsS0FBTSxDQUFBSSxFQUFFLEVBQUFOLGNBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsb0JBQW9CLENBQUMsRUFDeEMsS0FBTSxDQUFBRyxZQUFZLEVBQUFQLGNBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsZUFBZSxDQUFDLEVBQzdDLEtBQU0sQ0FBQUksR0FBRyxFQUFBUixjQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLGNBQWMsQ0FBQyxFQUFDSixjQUFBLEdBQUFHLENBQUEsTUFFcENFLEdBQUcsQ0FBQ0ksR0FBRyxDQUFDLGFBQWEsQ0FBRSxLQUFLLENBQUMsQ0FBQ1QsY0FBQSxHQUFBRyxDQUFBLE1BQzlCRSxHQUFHLENBQUNLLEdBQUcsQ0FBQ1IsT0FBTyxDQUFDUyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNYLGNBQUEsR0FBQUcsQ0FBQSxNQUN4QkUsR0FBRyxDQUFDSyxHQUFHLENBQUNSLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDLENBQUVDLFFBQVEsQ0FBRSxJQUFLLENBQUMsQ0FBQyxDQUFDLENBQUNiLGNBQUEsR0FBQUcsQ0FBQSxNQUNoREUsR0FBRyxDQUFDSyxHQUFHLENBQUNILFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQ1AsY0FBQSxHQUFBRyxDQUFBLE1BRXhCRSxHQUFHLENBQUNTLEdBQUcsQ0FBQyxHQUFHLENBQUUsQ0FBQ0MsR0FBRyxDQUFFQyxHQUFHLEdBQUssQ0FBQWhCLGNBQUEsR0FBQWlCLENBQUEsTUFDdkIsR0FBSSxDQUFBQyxNQUFNLEVBQUFsQixjQUFBLEdBQUFHLENBQUEsT0FBRyxXQUFXLEVBQ3hCLEdBQUksQ0FBQWdCLElBQUksRUFBQW5CLGNBQUEsR0FBQUcsQ0FBQSxPQUFHLElBQUksRUFFZixLQUFNLENBQUFpQixLQUFLLEVBQUFwQixjQUFBLEdBQUFHLENBQUEsT0FBR1ksR0FBRyxDQUFDTSxPQUFPLENBQUNDLGNBQWMsRUFBQ3RCLGNBQUEsR0FBQUcsQ0FBQSxPQUN6QyxHQUFJaUIsS0FBSyxDQUFFLENBQUFwQixjQUFBLEdBQUF1QixDQUFBLFNBQUF2QixjQUFBLEdBQUFHLENBQUEsT0FDUEssR0FBRyxDQUFDZ0IsTUFBTSxDQUFDSixLQUFLLENBQUVLLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxVQUFVLENBQUUsQ0FBQ0MsR0FBRyxDQUFFQyxPQUFPLEdBQUssQ0FBQTdCLGNBQUEsR0FBQWlCLENBQUEsTUFBQWpCLGNBQUEsR0FBQUcsQ0FBQSxPQUN4RCxHQUFJLENBQUN5QixHQUFHLENBQUUsQ0FBQTVCLGNBQUEsR0FBQXVCLENBQUEsU0FBQXZCLGNBQUEsR0FBQUcsQ0FBQSxPQUNOZSxNQUFNLENBQUcsVUFBVSxDQUFDbEIsY0FBQSxHQUFBRyxDQUFBLE9BQ3BCZ0IsSUFBSSxDQUFHVSxPQUFPLENBQ2xCLENBQUMsS0FBQTdCLGNBQUEsR0FBQXVCLENBQUEsVUFDTCxDQUFDLENBQUMsQ0FDTixDQUFDLEtBQUF2QixjQUFBLEdBQUF1QixDQUFBLFVBQUF2QixjQUFBLEdBQUFHLENBQUEsT0FFREcsRUFBRSxDQUFDd0IsS0FBSyxDQUFDLHFCQUFxQixDQUFFLENBQUNGLEdBQUcsQ0FBRUcsS0FBSyxHQUFLLENBQUEvQixjQUFBLEdBQUFpQixDQUFBLE1BQUFqQixjQUFBLEdBQUFHLENBQUEsT0FDNUMsR0FBSXlCLEdBQUcsQ0FBRSxDQUFBNUIsY0FBQSxHQUFBdUIsQ0FBQSxTQUFBdkIsY0FBQSxHQUFBRyxDQUFBLFlBQU0sQ0FBQXlCLEdBQUcsRUFBQyxLQUFBNUIsY0FBQSxHQUFBdUIsQ0FBQSxVQUFBdkIsY0FBQSxHQUFBRyxDQUFBLE9BQ25CYSxHQUFHLENBQUNnQixNQUFNLENBQUMsT0FBTyxDQUFFLENBQUVkLE1BQU0sQ0FBRUMsSUFBSSxDQUFFWSxLQUFNLENBQUMsQ0FBQyxDQUNoRCxDQUFDLENBQUMsQ0FDTixDQUFDLENBQUMsQ0FBQy9CLGNBQUEsR0FBQUcsQ0FBQSxPQUVIRSxHQUFHLENBQUNLLEdBQUcsQ0FBQ1IsT0FBTyxDQUFDK0IsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUNqQyxjQUFBLEdBQUFHLENBQUEsT0FFbENFLEdBQUcsQ0FBQ1MsR0FBRyxDQUFDLFdBQVcsQ0FBRSxDQUFDQyxHQUFHLENBQUVDLEdBQUcsR0FBSyxDQUFBaEIsY0FBQSxHQUFBaUIsQ0FBQSxNQUFBakIsY0FBQSxHQUFBRyxDQUFBLGNBQUFhLEdBQUcsQ0FBQ2dCLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBRCxDQUFDLENBQUMsQ0FBQ2hDLGNBQUEsR0FBQUcsQ0FBQSxPQUMzREUsR0FBRyxDQUFDUyxHQUFHLENBQUMsUUFBUSxDQUFFLENBQUNDLEdBQUcsQ0FBRUMsR0FBRyxHQUFLLENBQUFoQixjQUFBLEdBQUFpQixDQUFBLE1BQUFqQixjQUFBLEdBQUFHLENBQUEsY0FBQWEsR0FBRyxDQUFDZ0IsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFELENBQUMsQ0FBQyxDQUFDaEMsY0FBQSxHQUFBRyxDQUFBLE9BRXJEK0IsTUFBTSxDQUFDQyxPQUFPLENBQUc5QixHQUFHIiwiaWdub3JlTGlzdCI6W119