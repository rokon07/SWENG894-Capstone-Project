function cov_1r9d46cqx8(){var path="C:\\Users\\Rokon\\source\\repos\\SWENG894-Capstone-Project\\controllers\\verifyPollCode.js";var hash="580861861c130bb6a2530ba4eccbf17501da1581";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Rokon\\source\\repos\\SWENG894-Capstone-Project\\controllers\\verifyPollCode.js",statementMap:{"0":{start:{line:1,column:11},end:{line:1,column:41}},"1":{start:{line:3,column:23},end:{line:20,column:1}},"2":{start:{line:4,column:33},end:{line:4,column:41}},"3":{start:{line:6,column:4},end:{line:8,column:5}},"4":{start:{line:7,column:8},end:{line:7,column:76}},"5":{start:{line:10,column:4},end:{line:19,column:5}},"6":{start:{line:11,column:26},end:{line:11,column:109}},"7":{start:{line:12,column:8},end:{line:16,column:9}},"8":{start:{line:13,column:12},end:{line:13,column:51}},"9":{start:{line:15,column:12},end:{line:15,column:78}},"10":{start:{line:18,column:8},end:{line:18,column:108}},"11":{start:{line:22,column:0},end:{line:22,column:32}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:23},end:{line:3,column:24}},loc:{start:{line:3,column:43},end:{line:20,column:1}},line:3}},branchMap:{"0":{loc:{start:{line:6,column:4},end:{line:8,column:5}},type:"if",locations:[{start:{line:6,column:4},end:{line:8,column:5}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:6},"1":{loc:{start:{line:12,column:8},end:{line:16,column:9}},type:"if",locations:[{start:{line:12,column:8},end:{line:16,column:9}},{start:{line:14,column:15},end:{line:16,column:9}}],line:12}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},f:{"0":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"580861861c130bb6a2530ba4eccbf17501da1581"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1r9d46cqx8=function(){return actualCoverage;};}return actualCoverage;}cov_1r9d46cqx8();const db=(cov_1r9d46cqx8().s[0]++,require("../routes/db-config"));cov_1r9d46cqx8().s[1]++;const verifyPollCode=async(req,res)=>{cov_1r9d46cqx8().f[0]++;const{pollId,pollCode}=(cov_1r9d46cqx8().s[2]++,req.body);cov_1r9d46cqx8().s[3]++;if(!pollId){cov_1r9d46cqx8().b[0][0]++;cov_1r9d46cqx8().s[4]++;return res.json({status:"error",error:"Poll ID is required."});}else{cov_1r9d46cqx8().b[0][1]++;}cov_1r9d46cqx8().s[5]++;try{const[results]=(cov_1r9d46cqx8().s[6]++,await db.query('SELECT * FROM polls WHERE id = ? AND code = ?',[pollId,pollCode]));cov_1r9d46cqx8().s[7]++;if(results.length>0){cov_1r9d46cqx8().b[1][0]++;cov_1r9d46cqx8().s[8]++;return res.json({status:"success"});}else{cov_1r9d46cqx8().b[1][1]++;cov_1r9d46cqx8().s[9]++;return res.json({status:"error",error:"Invalid poll code."});}}catch(error){cov_1r9d46cqx8().s[10]++;return res.json({status:"error",error:"An error occurred while verifying private poll code."});}};cov_1r9d46cqx8().s[11]++;module.exports=verifyPollCode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXI5ZDQ2Y3F4OCIsImFjdHVhbENvdmVyYWdlIiwiZGIiLCJzIiwicmVxdWlyZSIsInZlcmlmeVBvbGxDb2RlIiwicmVxIiwicmVzIiwiZiIsInBvbGxJZCIsInBvbGxDb2RlIiwiYm9keSIsImIiLCJqc29uIiwic3RhdHVzIiwiZXJyb3IiLCJyZXN1bHRzIiwicXVlcnkiLCJsZW5ndGgiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsidmVyaWZ5UG9sbENvZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vcm91dGVzL2RiLWNvbmZpZ1wiKTtcclxuXHJcbmNvbnN0IHZlcmlmeVBvbGxDb2RlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCB7IHBvbGxJZCwgcG9sbENvZGUgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIGlmICghcG9sbElkKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHsgc3RhdHVzOiBcImVycm9yXCIsIGVycm9yOiBcIlBvbGwgSUQgaXMgcmVxdWlyZWQuXCIgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBbcmVzdWx0c10gPSBhd2FpdCBkYi5xdWVyeSgnU0VMRUNUICogRlJPTSBwb2xscyBXSEVSRSBpZCA9ID8gQU5EIGNvZGUgPSA/JywgW3BvbGxJZCwgcG9sbENvZGVdKTtcclxuICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbih7IHN0YXR1czogXCJzdWNjZXNzXCIgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKHsgc3RhdHVzOiBcImVycm9yXCIsIGVycm9yOiBcIkludmFsaWQgcG9sbCBjb2RlLlwiIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHsgc3RhdHVzOiBcImVycm9yXCIsIGVycm9yOiBcIkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHZlcmlmeWluZyBwcml2YXRlIHBvbGwgY29kZS5cIiB9KTtcclxuICAgIH1cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gdmVyaWZ5UG9sbENvZGU7Il0sIm1hcHBpbmdzIjoidzdEQWVZO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQWZaLEtBQU0sQ0FBQUUsRUFBRSxFQUFBRixjQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLHFCQUFxQixDQUFDLEVBQUNKLGNBQUEsR0FBQUcsQ0FBQSxNQUUxQyxLQUFNLENBQUFFLGNBQWMsQ0FBRyxLQUFBQSxDQUFPQyxHQUFHLENBQUVDLEdBQUcsR0FBSyxDQUFBUCxjQUFBLEdBQUFRLENBQUEsTUFDdkMsS0FBTSxDQUFFQyxNQUFNLENBQUVDLFFBQVMsQ0FBQyxFQUFBVixjQUFBLEdBQUFHLENBQUEsTUFBR0csR0FBRyxDQUFDSyxJQUFJLEVBQUNYLGNBQUEsR0FBQUcsQ0FBQSxNQUV0QyxHQUFJLENBQUNNLE1BQU0sQ0FBRSxDQUFBVCxjQUFBLEdBQUFZLENBQUEsU0FBQVosY0FBQSxHQUFBRyxDQUFBLE1BQ1QsTUFBTyxDQUFBSSxHQUFHLENBQUNNLElBQUksQ0FBQyxDQUFFQyxNQUFNLENBQUUsT0FBTyxDQUFFQyxLQUFLLENBQUUsc0JBQXVCLENBQUMsQ0FBQyxDQUN2RSxDQUFDLEtBQUFmLGNBQUEsR0FBQVksQ0FBQSxVQUFBWixjQUFBLEdBQUFHLENBQUEsTUFFRCxHQUFJLENBQ0EsS0FBTSxDQUFDYSxPQUFPLENBQUMsRUFBQWhCLGNBQUEsR0FBQUcsQ0FBQSxNQUFHLEtBQU0sQ0FBQUQsRUFBRSxDQUFDZSxLQUFLLENBQUMsK0NBQStDLENBQUUsQ0FBQ1IsTUFBTSxDQUFFQyxRQUFRLENBQUMsQ0FBQyxFQUFDVixjQUFBLEdBQUFHLENBQUEsTUFDdEcsR0FBSWEsT0FBTyxDQUFDRSxNQUFNLENBQUcsQ0FBQyxDQUFFLENBQUFsQixjQUFBLEdBQUFZLENBQUEsU0FBQVosY0FBQSxHQUFBRyxDQUFBLE1BQ3BCLE1BQU8sQ0FBQUksR0FBRyxDQUFDTSxJQUFJLENBQUMsQ0FBRUMsTUFBTSxDQUFFLFNBQVUsQ0FBQyxDQUFDLENBQzFDLENBQUMsSUFBTSxDQUFBZCxjQUFBLEdBQUFZLENBQUEsU0FBQVosY0FBQSxHQUFBRyxDQUFBLE1BQ0gsTUFBTyxDQUFBSSxHQUFHLENBQUNNLElBQUksQ0FBQyxDQUFFQyxNQUFNLENBQUUsT0FBTyxDQUFFQyxLQUFLLENBQUUsb0JBQXFCLENBQUMsQ0FBQyxDQUNyRSxDQUNKLENBQUUsTUFBT0EsS0FBSyxDQUFFLENBQUFmLGNBQUEsR0FBQUcsQ0FBQSxPQUNaLE1BQU8sQ0FBQUksR0FBRyxDQUFDTSxJQUFJLENBQUMsQ0FBRUMsTUFBTSxDQUFFLE9BQU8sQ0FBRUMsS0FBSyxDQUFFLHNEQUF1RCxDQUFDLENBQUMsQ0FDdkcsQ0FDSixDQUFDLENBQUNmLGNBQUEsR0FBQUcsQ0FBQSxPQUVGZ0IsTUFBTSxDQUFDQyxPQUFPLENBQUdmLGNBQWMiLCJpZ25vcmVMaXN0IjpbXX0=